# Bridge Line ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸

## æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Bridge Line AIéŸ³å£°ãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã¨ä»•æ§˜ã‚’å®šç¾©ã—ã¾ã™ã€‚

## ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰
```
    E2E Tests (å°‘æ•°)
        â†‘
   Integration Tests (ä¸­ç¨‹åº¦)
        â†‘
  Unit Tests (å¤šæ•°)
```

### ãƒ†ã‚¹ãƒˆãƒ¬ãƒ™ãƒ«
1. **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**: å€‹åˆ¥ã®é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹ãƒ»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
2. **çµ±åˆãƒ†ã‚¹ãƒˆ**: APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æº
3. **E2Eãƒ†ã‚¹ãƒˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªå…¨ä½“
4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**: è² è·ãƒ»å¿œç­”æ™‚é–“

## ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆç’°å¢ƒ
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: pytest
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL (ãƒ†ã‚¹ãƒˆç”¨)
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Redis (ãƒ†ã‚¹ãƒˆç”¨)
- **ã‚«ãƒãƒ¬ãƒƒã‚¸**: 80%ä»¥ä¸Š

### ãƒ†ã‚¹ãƒˆå¯¾è±¡

#### API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
```python
# èªè¨¼é–¢é€£
- POST /api/v1/auth/login
- POST /api/v1/auth/register
- POST /api/v1/auth/logout
- GET /api/v1/auth/me

# ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
- GET /api/v1/users/
- GET /api/v1/users/{user_id}
- PUT /api/v1/users/{user_id}
- DELETE /api/v1/users/{user_id}

# ãƒãƒ¼ãƒ ç®¡ç†
- GET /api/v1/teams/
- POST /api/v1/teams/
- GET /api/v1/teams/{team_id}
- PUT /api/v1/teams/{team_id}
- DELETE /api/v1/teams/{team_id}

# éŸ³å£°ã‚»ãƒƒã‚·ãƒ§ãƒ³
- POST /api/v1/voice-sessions/
- GET /api/v1/voice-sessions/
- GET /api/v1/voice-sessions/{session_id}
- DELETE /api/v1/voice-sessions/{session_id}

# è»¢å†™ãƒ»åˆ†æ
- POST /api/v1/transcriptions/
- GET /api/v1/transcriptions/{transcription_id}
- GET /api/v1/analytics/{session_id}
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«
```python
# ãƒ¢ãƒ‡ãƒ«ãƒ†ã‚¹ãƒˆ
- User ãƒ¢ãƒ‡ãƒ«
- Team ãƒ¢ãƒ‡ãƒ«
- OrganizationMember ãƒ¢ãƒ‡ãƒ«
- VoiceSession ãƒ¢ãƒ‡ãƒ«
- Transcription ãƒ¢ãƒ‡ãƒ«
- Analysis ãƒ¢ãƒ‡ãƒ«
- Subscription ãƒ¢ãƒ‡ãƒ«
- Billing ãƒ¢ãƒ‡ãƒ«
```

#### ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
```python
# ã‚µãƒ¼ãƒ“ã‚¹å±¤ãƒ†ã‚¹ãƒˆ
- AuthService
- UserService
- TeamService
- VoiceSessionService
- TranscriptionService
- AnalysisService
- BillingService
- EmailService
```

#### æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ 
```python
# æ±ºæ¸ˆé–¢é€£ãƒ†ã‚¹ãƒˆ
- PaymentService
- BillingService
- SubscriptionService
- Stripe Webhookå‡¦ç†
- ãƒ—ãƒ©ãƒ³ç®¡ç†
- æ–™é‡‘è¨ˆç®—
```

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¾‹

#### èªè¨¼ãƒ†ã‚¹ãƒˆ
```python
def test_user_registration():
    """ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆ"""
    # æ­£å¸¸ãªç™»éŒ²
    # é‡è¤‡ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
    # ç„¡åŠ¹ãªãƒ‡ãƒ¼ã‚¿
    # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦

def test_user_login():
    """ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³ã®ãƒ†ã‚¹ãƒˆ"""
    # æ­£å¸¸ãªãƒ­ã‚°ã‚¤ãƒ³
    # ç„¡åŠ¹ãªèªè¨¼æƒ…å ±
    # ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ­ãƒƒã‚¯
    # ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
```

#### éŸ³å£°ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
```python
def test_voice_session_creation():
    """éŸ³å£°ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆã®ãƒ†ã‚¹ãƒˆ"""
    # ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ
    # å‚åŠ è€…è¿½åŠ 
    # æ¨©é™ãƒã‚§ãƒƒã‚¯
    # åŒæ™‚æ¥ç¶šåˆ¶é™

def test_voice_session_recording():
    """éŸ³å£°éŒ²éŸ³ã®ãƒ†ã‚¹ãƒˆ"""
    # éŒ²éŸ³é–‹å§‹/åœæ­¢
    # éŸ³å£°å“è³ª
    # ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç®¡ç†
    # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
```

#### æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ
```python
def test_payment_webhook_handlers():
    """æ±ºæ¸ˆWebhookå‡¦ç†ã®ãƒ†ã‚¹ãƒˆ"""
    # ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆå®Œäº†å‡¦ç†
    # æ±ºæ¸ˆæˆåŠŸå‡¦ç†
    # æ±ºæ¸ˆå¤±æ•—å‡¦ç†
    # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

def test_billing_plan_management():
    """ãƒ—ãƒ©ãƒ³ç®¡ç†ã®ãƒ†ã‚¹ãƒˆ"""
    # ãƒ—ãƒ©ãƒ³æ±ºå®šãƒ­ã‚¸ãƒƒã‚¯
    # æ–™é‡‘è¨ˆç®—
    # ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°åˆ¶é™
    # å¹´é¡å‰²å¼•

def test_stripe_integration():
    """Stripeçµ±åˆã®ãƒ†ã‚¹ãƒˆ"""
    # Checkout Sessionä½œæˆ
    # æ±ºæ¸ˆå‡¦ç†
    # Webhookæ¤œè¨¼
    # ã‚¨ãƒ©ãƒ¼å‡¦ç†
```

## ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆç’°å¢ƒ
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Jest + React Testing Library
- **E2E**: Cypress
- **ã‚«ãƒãƒ¬ãƒƒã‚¸**: 70%ä»¥ä¸Š

### ãƒ†ã‚¹ãƒˆå¯¾è±¡

#### React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```typescript
// èªè¨¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- LoginForm
- RegisterForm
- AuthProvider

// éŸ³å£°ãƒãƒ£ãƒƒãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- VoiceChatRoom
- AudioControls
- TranscriptionDisplay
- ParticipantsList

// ãƒãƒ¼ãƒ ç®¡ç†ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- TeamList
- TeamCard
- CreateTeamModal
- InviteMemberModal

// åˆ†æã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- AnalyticsCard
- CommunicationChart
- SentimentAnalysis
- ReportGenerator

// æ±ºæ¸ˆç®¡ç†ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- AdminBillingOverview
- AdminBillingActions
- PricingCard
- AdminStripeCheckout
- SubscriptionContent
```

#### ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
```typescript
// ãƒ•ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
- useAuth
- useVoiceChat
- useTeam
- useAnalytics
- useWebSocket
- useAudioRecording
- useBilling
- useSubscription
```

#### ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
```typescript
// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
- API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
- éŸ³å£°å‡¦ç†
- ãƒ‡ãƒ¼ã‚¿å¤‰æ›
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ—ãƒ©ãƒ³ç®¡ç†
- æ–™é‡‘è¨ˆç®—
```

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¾‹

#### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
```typescript
describe('VoiceChatRoom', () => {
  test('éŸ³å£°ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«å‚åŠ ã§ãã‚‹', () => {
    // ã‚»ãƒƒã‚·ãƒ§ãƒ³å‚åŠ 
    // ãƒã‚¤ã‚¯æ¨©é™è¦æ±‚
    // å‚åŠ è€…è¡¨ç¤º
  });

  test('éŒ²éŸ³æ©Ÿèƒ½ãŒå‹•ä½œã™ã‚‹', () => {
    // éŒ²éŸ³é–‹å§‹/åœæ­¢
    // éŒ²éŸ³çŠ¶æ…‹è¡¨ç¤º
    // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  });

  test('è»¢å†™ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
    // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è»¢å†™
    // è»¢å†™å±¥æ­´
    // æ¤œç´¢æ©Ÿèƒ½
  });
});
```

#### ãƒ•ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
```typescript
describe('useVoiceChat', () => {
  test('WebSocketæ¥ç¶šãŒç¢ºç«‹ã•ã‚Œã‚‹', () => {
    // æ¥ç¶šçŠ¶æ…‹
    // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€å—ä¿¡
    // å†æ¥ç¶šå‡¦ç†
  });

  test('éŸ³å£°ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒå‡¦ç†ã•ã‚Œã‚‹', () => {
    // éŸ³å£°ãƒ‡ãƒ¼ã‚¿å‡¦ç†
    // å“è³ªèª¿æ•´
    // ã‚¨ãƒ©ãƒ¼å‡¦ç†
  });
});
```

#### æ±ºæ¸ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
```typescript
describe('AdminBillingOverview', () => {
  test('ãƒ—ãƒ©ãƒ³æƒ…å ±ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', () => {
    // ãƒ—ãƒ©ãƒ³åè¡¨ç¤º
    // æ–™é‡‘è¡¨ç¤º
    // åˆ¶é™è¡¨ç¤º
    // æ¬¡å›è«‹æ±‚æ—¥è¡¨ç¤º
  });

  test('æ±ºæ¸ˆãƒœã‚¿ãƒ³ãŒå‹•ä½œã™ã‚‹', () => {
    // æ±ºæ¸ˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
    // Stripe Checkoutè¡¨ç¤º
    // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  });
});

describe('PricingCard', () => {
  test('ãƒ—ãƒ©ãƒ³è©³ç´°ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
    // ãƒ—ãƒ©ãƒ³åãƒ»æ–™é‡‘
    // æ©Ÿèƒ½ä¸€è¦§
    // åˆ¶é™äº‹é …
  });

  test('å¹´é¡å‰²å¼•ãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹', () => {
    // æœˆé¡ãƒ»å¹´é¡è¡¨ç¤º
    // å‰²å¼•ç‡è¡¨ç¤º
    // æœˆé¡æ›ç®—è¡¨ç¤º
  });
});
```

## E2Eãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆç’°å¢ƒ
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Cypress
- **ãƒ–ãƒ©ã‚¦ã‚¶**: Chrome
- **å®Ÿè¡Œç’°å¢ƒ**: CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

### ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒ•ãƒ­ãƒ¼
```javascript
describe('èªè¨¼ãƒ•ãƒ­ãƒ¼', () => {
  it('æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç™»éŒ²ã§ãã‚‹', () => {
    // 1. ç™»éŒ²ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
    // 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å…¥åŠ›
    // 3. ç™»éŒ²ã‚’å®Ÿè¡Œ
    // 4. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
  });

  it('æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹', () => {
    // 1. ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
    // 2. èªè¨¼æƒ…å ±ã‚’å…¥åŠ›
    // 3. ãƒ­ã‚°ã‚¤ãƒ³ã‚’å®Ÿè¡Œ
    // 4. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
  });
});
```

#### éŸ³å£°ãƒãƒ£ãƒƒãƒˆãƒ•ãƒ­ãƒ¼
```javascript
describe('éŸ³å£°ãƒãƒ£ãƒƒãƒˆ', () => {
  it('éŸ³å£°ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«å‚åŠ ã§ãã‚‹', () => {
    // 1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§ã‚’è¡¨ç¤º
    // 2. ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é¸æŠ
    // 3. ãƒã‚¤ã‚¯æ¨©é™ã‚’è¨±å¯
    // 4. ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«å‚åŠ 
  });

  it('éŸ³å£°ã‚’éŒ²éŸ³ãƒ»è»¢å†™ã§ãã‚‹', () => {
    // 1. éŒ²éŸ³ã‚’é–‹å§‹
    // 2. éŸ³å£°ã‚’éŒ²éŸ³
    // 3. è»¢å†™ã‚’ç¢ºèª
    // 4. éŒ²éŸ³ã‚’åœæ­¢
  });

  it('åˆ†æçµæœã‚’è¡¨ç¤ºã§ãã‚‹', () => {
    // 1. ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†
    // 2. åˆ†æçµæœã‚’ç¢ºèª
    // 3. ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ
  });
});
```

#### ãƒãƒ¼ãƒ ç®¡ç†ãƒ•ãƒ­ãƒ¼
```javascript
describe('ãƒãƒ¼ãƒ ç®¡ç†', () => {
  it('ãƒãƒ¼ãƒ ã‚’ä½œæˆã§ãã‚‹', () => {
    // 1. ãƒãƒ¼ãƒ ä½œæˆãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
    // 2. ãƒãƒ¼ãƒ æƒ…å ±ã‚’å…¥åŠ›
    // 3. ãƒãƒ¼ãƒ ã‚’ä½œæˆ
    // 4. ãƒãƒ¼ãƒ ä¸€è¦§ã«è¡¨ç¤º
  });

  it('ãƒ¡ãƒ³ãƒãƒ¼ã‚’æ‹›å¾…ã§ãã‚‹', () => {
    // 1. ãƒãƒ¼ãƒ è¨­å®šã«ã‚¢ã‚¯ã‚»ã‚¹
    // 2. ãƒ¡ãƒ³ãƒãƒ¼æ‹›å¾…ã‚’å®Ÿè¡Œ
    // 3. æ‹›å¾…ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡
    // 4. æ‹›å¾…çŠ¶æ…‹ã‚’ç¢ºèª
  });
});
```

#### æ±ºæ¸ˆç®¡ç†ãƒ•ãƒ­ãƒ¼
```javascript
describe('æ±ºæ¸ˆç®¡ç†', () => {
  it('ãƒ—ãƒ©ãƒ³æƒ…å ±ã‚’ç¢ºèªã§ãã‚‹', () => {
    // 1. æ±ºæ¸ˆç®¡ç†ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
    // 2. ç¾åœ¨ã®ãƒ—ãƒ©ãƒ³æƒ…å ±ã‚’ç¢ºèª
    // 3. æ–™é‡‘ãƒ»åˆ¶é™ã‚’ç¢ºèª
    // 4. æ¬¡å›è«‹æ±‚æ—¥ã‚’ç¢ºèª
  });

  it('æ±ºæ¸ˆã‚’å®Ÿè¡Œã§ãã‚‹', () => {
    // 1. æ±ºæ¸ˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
    // 2. Stripe Checkoutç”»é¢ã«é·ç§»
    // 3. æ±ºæ¸ˆæƒ…å ±ã‚’å…¥åŠ›
    // 4. æ±ºæ¸ˆå®Œäº†ã‚’ç¢ºèª
  });

  it('ãƒ—ãƒ©ãƒ³å¤‰æ›´ãŒã§ãã‚‹', () => {
    // 1. ãƒ—ãƒ©ãƒ³ä¸€è¦§ã‚’è¡¨ç¤º
    // 2. æ–°ã—ã„ãƒ—ãƒ©ãƒ³ã‚’é¸æŠ
    // 3. æ–™é‡‘ã‚’ç¢ºèª
    // 4. ãƒ—ãƒ©ãƒ³å¤‰æ›´ã‚’å®Ÿè¡Œ
  });
});
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

### è² è·ãƒ†ã‚¹ãƒˆ
- **åŒæ™‚æ¥ç¶šæ•°**: 100ãƒ¦ãƒ¼ã‚¶ãƒ¼
- **éŸ³å£°ã‚¹ãƒˆãƒªãƒ¼ãƒ **: 50ã‚¹ãƒˆãƒªãƒ¼ãƒ 
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: 1000ãƒ¬ã‚³ãƒ¼ãƒ‰/ç§’
- **å¿œç­”æ™‚é–“**: 200msä»¥ä¸‹

### ã‚¹ãƒˆãƒ¬ã‚¹ãƒ†ã‚¹ãƒˆ
- **é•·æ™‚é–“å®Ÿè¡Œ**: 24æ™‚é–“
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: 2GBä»¥ä¸‹
- **CPUä½¿ç”¨ç‡**: 80%ä»¥ä¸‹
- **ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡**: 10GBä»¥ä¸‹

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ

#### èªè¨¼ãƒ»èªå¯
- JWT ãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æ€§
- æ¨©é™ãƒã‚§ãƒƒã‚¯
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦

#### ãƒ‡ãƒ¼ã‚¿ä¿è­·
- éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã®æš—å·åŒ–
- å€‹äººæƒ…å ±ã®ä¿è­·
- API ãƒ¬ãƒ¼ãƒˆåˆ¶é™
- SQL ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–

## å“è³ªåŸºæº–

### ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: 80%ä»¥ä¸Š
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: 70%ä»¥ä¸Š
- **E2E**: ä¸»è¦ã‚·ãƒŠãƒªã‚ª100%

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™
- **ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿**: 3ç§’ä»¥ä¸‹
- **APIå¿œç­”**: 200msä»¥ä¸‹
- **éŸ³å£°é…å»¶**: 100msä»¥ä¸‹

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›®æ¨™
- **è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³**: 0ä»¶
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ**: 100%é€šé
- **ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹**: GDPRæº–æ‹ 

## æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•

#### æ±ºæ¸ˆãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
```bash
# æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ ã®å˜ä½“ãƒ†ã‚¹ãƒˆ
cd backend && python -m pytest tests/test_payment_system.py -v

# æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆãƒ†ã‚¹ãƒˆ
cd backend && python -m pytest tests/test_payment_integration.py -v

# æ±ºæ¸ˆãƒ†ã‚¹ãƒˆå…¨ä½“
cd backend && python -m pytest tests/test_payment*.py -v

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ãå®Ÿè¡Œ
cd backend && python -m pytest tests/test_payment*.py --cov=app --cov-report=html
```

#### ãƒ†ã‚¹ãƒˆå¯¾è±¡
- **Stripe Webhookå‡¦ç†**: æ±ºæ¸ˆã‚¤ãƒ™ãƒ³ãƒˆã®å‡¦ç†
- **ãƒ—ãƒ©ãƒ³ç®¡ç†**: å‹•çš„ãƒ—ãƒ©ãƒ³æ±ºå®šãƒ»æ–™é‡‘è¨ˆç®—
- **æ±ºæ¸ˆãƒ•ãƒ­ãƒ¼**: ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã®æ±ºæ¸ˆå‡¦ç†
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: æ±ºæ¸ˆå¤±æ•—ãƒ»ä¾‹å¤–å‡¦ç†

#### ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
- **ãƒ—ãƒ©ãƒ³è¨­å®š**: Basic/Premium/Enterprise
- **æ–™é‡‘**: æœˆé¡ãƒ»å¹´é¡ï¼ˆ20%å‰²å¼•ï¼‰
- **åˆ¶é™**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•°
- **Stripeã‚¤ãƒ™ãƒ³ãƒˆ**: checkout.session.completed, invoice.payment_succeeded

---

> ğŸ“š **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•**: [ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¬ã‚¤ãƒ‰.md](ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¬ã‚¤ãƒ‰.md) ã‚’å‚ç…§  
> ğŸ“š **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ç®¡ç†**: [ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ç®¡ç†.md](ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ç®¡ç†.md) ã‚’å‚ç…§  
> ğŸ“š **æ±ºæ¸ˆãƒ†ã‚¹ãƒˆè©³ç´°**: [æ±ºæ¸ˆã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ](backend/tests/test_payment_system.py) ã‚’å‚ç…§