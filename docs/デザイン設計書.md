# ✏ デザイン設計書

このドキュメントは、チームコミュニケーションアプリの画面レイアウト・UI構成・デザイン方針についてまとめたものです。

BtoB向けとして、分かりやすく・シンプル・操作しやすいUIを目指した設計となっています。

## 📱 画面レイアウト（UI構成）

### **主要画面構成**

- **アクセスページ**
　　- ユーザーログイン・管理者ログイン選択ボタン
　　- ロゴ表示
- **ユーザーログイン画面**
    - メールアドレス・パスワード入力フォーム
  **管理者ログイン画面**
  　- 管理者メールアドレス・管理者パスワード入力フォーム
- **ダッシュボード（メイン画面）**
    - ユーザー挨拶メッセージ
    - 主要機能への導線（チームメンバー一覧・雑談ルーム・マイプロフィール・AI分析結果・個人成長支援）
    - シンプルなカード型レイアウト
- **チームメンバー一覧**
    - メンバー情報の一覧表示（名前・部署・詳細ボタン）
    - ダッシュボードへの戻り導線
- **雑談ルーム**
    - 参加メンバー表示
    - 音声通話開始機能
    - 会話テーマ提案機能
- **マイプロフィール（閲覧・編集）**
    - 個人情報・プロフィール・フィードバック情報の表示/編集
    - アイコン選択機能
    - フィードバック一覧・編集機能
- **AI分析結果**
    - AI分析結果の表示
- **個人成長支援**
　  - 成長目標
　　- 改善計画
- **管理者ダッシュボード**
    - ユーザー挨拶メッセージ
    - 機能への導線（ユーザー管理・ユーザー追加・決済管理）
    - シンプルなカード型レイアウト
- **ユーザー管理**
    - ユーザー一覧画面
    - ユーザ人数状況の表示
    - シンプルなカード型レイアウト
- **ユーザー追加**
    - ユーザー情報入力・追加
    - ユーザ人数に伴う料金の表示
    - シンプルなカード型レイアウト
- **決済管理**
    - 利用状況詳細・料金、決済情報の表示
    - 決済処理への導線
    - シンプルなカード型レイアウト


### **共通レイアウト要素**

- **ヘッダー部分**：画面タイトル・戻るボタン
- **メインコンテンツ部分**：各画面の主要機能
- **ナビゲーション部分**：主要画面への導線


## 🐼 ワイヤーフレーム・UIイメージ例

### ダッシュボード

```
┌───────────────────────────┐
│ 🌅 おはようございます！ユーザーさん！ │
├───────────────────────────┤
│  ┌───────────────┐  ┌───────────────┐ │
│  │ 👥 部署別メンバー │  │ 💬 雑談ルーム   │ │
│  │ [開く]          │  │ [開く]          │ │
│  └───────────────┘  └───────────────┘ │
│                                         │
│  ┌───────────────┐  ┌───────────────┐ │
│  │ 📊 AI分析結果   │  │ 🎯 個人成長支援  │ │
│  │ [開く]          │  │ [開く]          │ │
│  └───────────────┘  └───────────────┘ │
└───────────────────────────┘

```

### チームメンバー一覧

```
┌─────────────────────────┐
│ ← ダッシュボードへ戻る     │
├─────────────────────────┤
│ うっちー  企画本部  [詳細] │
│ るい      企画本部  [詳細] │
│ しづか    企画本部  [詳細] │
│ あっすー  企画本部  [詳細] │
└─────────────────────────┘

```

### 雑談ルーム

```
┌─────────────────────────┐
│ ← ダッシュボードへ戻る    │
├─────────────────────────┤
│ 現在参加中のメンバー      │
│ ・しづかさん            │
│ ・るいさん              │
├─────────────────────────┤
│ こんなテーマはどうですか？ │
│        [開始する]        │
└─────────────────────────┘

```

## ✒ デザイン方針・ルール

### **基本方針**

- **BtoB向け**：業務効率を重視したシンプルで直感的なデザイン
- **分かりやすさ**：一目で機能が理解できるUI構成
- **操作しやすさ**：最小限のクリック数で目的を達成

### **カラーパレット**

- **プライマリカラー**：##FFFFFF（ホワイト - 背景・区切り）
- **セカンダリカラー**：##B1EEFF（ブルー系 - 信頼感・プロフェッショナル）
- **アクセントカラー**：##CDFFD3（グリーン系 - アクション）／##F1A1FF（パープル系 - アクション）
- **テキストカラー**：##000000（ブラック - 可読性重視）

### **レイアウト・コンポーネント**

- **カード型デザイン**：機能ごとに明確に区分
- **角丸**：10～30px（親しみやすさとモダンさを両立）
- **ボタン**：明確なコントラストと十分なタップエリア

### **タイポグラフィ**

- **フォント**：システムフォント優先（可読性・パフォーマンス重視）
- **見出し**：太字・大きめサイズで階層を明確化
- **本文**：24px以上（視認性確保）

### **レスポンシブ対応**

- **PC表示**：横幅に応じたレイアウト調整

### **操作性・UX**

- **戻るボタン**：各画面に明確な戻り導線を配置
- **状態表示**：現在地・進行状況を分かりやすく表示
- **エラーハンドリング**：分かりやすいエラーメッセージ
- **ローディング**：処理中の状態を適切に表示

---

## **AI分析機能 フロントエンドコンポーネント設計**

### **1. チームダイナミクス分析コンポーネント**

#### **TeamDynamicsChart.tsx**
チームの相互作用パターンを可視化するチャートコンポーネント

```typescript
interface TeamDynamicsChartProps {
  teamId: string
  sessionId?: string
  timeRange: {
    start: Date
    end: Date
  }
  onAnalysisComplete?: (result: TeamDynamicsResult) => void
}

// 主要機能
- 相互作用マトリックスのヒートマップ表示
- コミュニケーション流れの矢印図
- 発言頻度の円グラフ
- チーム結束力スコアのゲージ表示
- リアルタイム更新対応
```

#### **CompatibilityMatrix.tsx**
チームメンバー間の相性をマトリックス形式で表示

```typescript
interface CompatibilityMatrixProps {
  teamId: string
  participants: User[]
  compatibilityData: CompatibilityData
  showDetails?: boolean
}

// 主要機能
- 相性スコアのカラーマトリックス
- 個別相性の詳細表示
- 相性改善提案の表示
- フィルタリング・ソート機能
```

#### **TeamCohesionScore.tsx**
チームの結束力とバランスを数値化して表示

```typescript
interface TeamCohesionScoreProps {
  teamId: string
  cohesionData: CohesionData
  historicalData?: CohesionData[]
  showTrends?: boolean
}

// 主要機能
- 結束力スコアのゲージ表示
- 時系列での変化グラフ
- 改善提案の表示
- ベンチマーク比較
```

### **2. 改善提案管理コンポーネント**

#### **ImprovementSuggestions.tsx**
個人向け改善提案の一覧表示・管理

```typescript
interface ImprovementSuggestionsProps {
  userId: string
  teamId?: string
  showArchived?: boolean
  onSuggestionUpdate?: (suggestion: ImprovementSuggestion) => void
}

// 主要機能
- 提案一覧の表示
- 優先度・ステータスでのフィルタリング
- 提案の詳細表示
- 実装状況の更新
- 提案の編集・削除
```

#### **PrivacySettings.tsx**
改善提案の表示範囲とプライバシー設定

```typescript
interface PrivacySettingsProps {
  userId: string
  currentSettings: PrivacySettings
  onSettingsUpdate: (settings: PrivacySettings) => void
}

// 主要機能
- 表示範囲の設定（個人・チーム・会社・匿名）
- 承認フローの設定
- 自動公開の設定
- 同意管理
```

#### **ConsentManagement.tsx**
改善提案の公開同意と承認管理

```typescript
interface ConsentManagementProps {
  userId: string
  suggestions: ImprovementSuggestion[]
  onConsentUpdate: (suggestionId: string, consent: ConsentData) => void
}

// 主要機能
- 同意状況の一覧表示
- 個別同意の更新
- 一括同意の処理
- 同意履歴の表示
```

### **3. フィードバック公開制御コンポーネント**

#### **FeedbackPublicationControl.tsx**
フィードバックの公開設定と制御

```typescript
interface FeedbackPublicationControlProps {
  feedbackId: string
  feedbackType: FeedbackType
  userId: string
  teamId?: string
  onPublicationUpdate: (control: PublicationControl) => void
}

// 主要機能
- 公開範囲の設定
- 確認期限の設定
- 自動公開の設定
- 承認フローの設定
- 公開履歴の表示
```

#### **PublicationWorkflow.tsx**
フィードバック公開の承認ワークフロー

```typescript
interface PublicationWorkflowProps {
  controlId: string
  workflow: PublicationWorkflow
  userRole: UserRole
  onWorkflowUpdate: (workflow: PublicationWorkflow) => void
}

// 主要機能
- 承認ステップの表示
- 承認・却下の処理
- 承認者への通知
- ワークフロー履歴の表示
```

### **4. 比較分析コンポーネント**

#### **ComparisonAnalysis.tsx**
個人間・チーム間の比較分析

```typescript
interface ComparisonAnalysisProps {
  comparisonType: 'users' | 'teams'
  participants: string[]
  metrics: string[]
  timeRange: TimeRange
  onComparisonComplete?: (result: ComparisonResult) => void
}

// 主要機能
- 比較対象の選択
- 比較指標の選択
- 比較結果の表示
- 匿名化オプション
- レポート生成
```

#### **ReportGenerator.tsx**
比較分析レポートの生成・出力

```typescript
interface ReportGeneratorProps {
  comparisonId: string
  reportFormat: 'pdf' | 'csv' | 'excel'
  includeCharts: boolean
  includeRecommendations: boolean
  onReportGenerated?: (report: GeneratedReport) => void
}

// 主要機能
- レポート形式の選択
- 出力オプションの設定
- 生成進捗の表示
- ダウンロード・共有機能
```

### **5. リアルタイム分析コンポーネント（オプション）**

#### **RealTimeAnalysisConfig.tsx**
リアルタイム分析の設定

```typescript
interface RealTimeAnalysisConfigProps {
  sessionId: string
  currentConfig: RealTimeAnalysisConfig
  onConfigUpdate: (config: RealTimeAnalysisConfig) => void
}

// 主要機能
- 分析タイプの選択
- フィードバック遅延の設定
- プライバシーモードの選択
- ユーザー同意の管理
```

#### **RealTimeAnalysisDisplay.tsx**
リアルタイム分析結果の表示

```typescript
interface RealTimeAnalysisDisplayProps {
  sessionId: string
  analysisTypes: AnalysisType[]
  privacyMode: PrivacyMode
  onFeedbackReceived?: (feedback: RealTimeFeedback) => void
}

// 主要機能
- リアルタイム分析結果の表示
- プライバシーモードでの表示
- フィードバックの遅延表示
- 分析設定の動的変更
```

### **6. 統合ダッシュボードコンポーネント**

#### **AIAnalyticsDashboard.tsx**
AI分析機能の統合ダッシュボード

```typescript
interface AIAnalyticsDashboardProps {
  userId: string
  teamId?: string
  userRole: UserRole
  onNavigateToDetail?: (section: string, id?: string) => void
}

// 主要機能
- 分析結果の概要表示
- 各機能へのナビゲーション
- 通知・アラートの表示
- クイックアクション
- 最近の分析履歴
```

### **7. 共通UIコンポーネント**

#### **AnalysisCard.tsx**
分析結果を表示する汎用カード

```typescript
interface AnalysisCardProps {
  analysis: AnalysisResult
  showActions?: boolean
  onViewDetails?: () => void
  onShare?: () => void
  onExport?: () => void
}

// 主要機能
- 分析結果のサマリー表示
- アクションボタンの表示
- 共有・エクスポート機能
- 詳細表示へのリンク
```

#### **PrivacyBadge.tsx**
プライバシー設定を表示するバッジ

```typescript
interface PrivacyBadgeProps {
  visibility: VisibilityLevel
  size?: 'sm' | 'md' | 'lg'
  showTooltip?: boolean
}

// 主要機能
- 表示範囲の視覚的表示
- ツールチップでの詳細説明
- サイズバリエーション
- カラーテーマ対応
```

### **8. フック・ユーティリティ**

#### **useTeamDynamics.ts**
チームダイナミクス分析のカスタムフック

```typescript
interface UseTeamDynamicsReturn {
  dynamics: TeamDynamicsResult | null
  loading: boolean
  error: string | null
  analyzeTeam: (teamId: string, options: AnalysisOptions) => Promise<void>
  refreshAnalysis: () => void
}

// 主要機能
- チームダイナミクスの取得
- 分析の実行
- エラーハンドリング
- ローディング状態管理
```

#### **useImprovementSuggestions.ts**
改善提案管理のカスタムフック

```typescript
interface UseImprovementSuggestionsReturn {
  suggestions: ImprovementSuggestion[]
  loading: boolean
  error: string | null
  generateSuggestions: (options: GenerationOptions) => Promise<void>
  updateSuggestion: (id: string, updates: Partial<ImprovementSuggestion>) => Promise<void>
  deleteSuggestion: (id: string) => Promise<void>
}

// 主要機能
- 改善提案の取得・管理
- 提案の生成
- 提案の更新・削除
- プライバシー設定の管理
```

### **9. スタイリング・テーマ**

#### **AI分析専用テーマ**
```typescript
const aiAnalyticsTheme = {
  colors: {
    primary: '#3B82F6',      // 分析結果の主要色
    secondary: '#10B981',    // 成功・改善
    warning: '#F59E0B',      // 注意・改善点
    danger: '#EF4444',       // 問題・課題
    neutral: '#6B7280',      // 中立・基準
  },
  spacing: {
    card: '1.5rem',
    section: '2rem',
    component: '1rem',
  },
  borderRadius: {
    card: '0.75rem',
    button: '0.5rem',
    input: '0.375rem',
  }
}
```

#### **レスポンシブデザイン**
```typescript
// ブレークポイント
const breakpoints = {
  sm: '640px',
  md: '768px',
  lg: '1024px',
  xl: '1280px',
  '2xl': '1536px',
}

// グリッドレイアウト
const gridLayouts = {
  mobile: 'grid-cols-1 gap-4',
  tablet: 'grid-cols-2 gap-6',
  desktop: 'grid-cols-3 gap-8',
  wide: 'grid-cols-4 gap-8',
}
```

### **10. アクセシビリティ・UX**

#### **アクセシビリティ対応**
- ARIAラベルの適切な設定
- キーボードナビゲーション対応
- スクリーンリーダー対応
- カラーコントラストの確保
- フォーカス管理

#### **UX改善機能**
- スケルトンローディング
- エラー状態の適切な表示
- 成功フィードバック
- プログレスバー
- ツールチップ・ヘルプ
- ショートカットキー

これらのコンポーネントにより、ユーザーフレンドリーで機能的なAI分析機能のUI/UXを実現できます。